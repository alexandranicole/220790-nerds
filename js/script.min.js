var button = document.querySelector(".red-big"),
    popup = document.querySelector(".feedback-content"),
    close = document.querySelector(".feedback-close"),
    form = popup.querySelector("form"),
    login = popup.querySelector("[name=write-name]"),
    email = popup.querySelector("[name=e-mail]"),
    storage = localStorage.getItem("login");
button.addEventListener("click", function(a) {
    a.preventDefault(), popup.classList.add("feedback-content-show"), storage ? (login.value = storage, password.focus()) : login.focus()
}), close.addEventListener("click", function(a) {
    a.preventDefault(), popup.classList.remove("feedback-content-show"), popup.classList.remove("feedback-error")
}), form.addEventListener("submit", function(a) {
    login.value && email.value ? localStorage.setItem("login", login.value) : (a.preventDefault(), popup.classList.remove("feedback-error"), popup.offsetWidth = popup.offsetWidth, popup.classList.add("feedback-error"))
}), window.addEventListener("keydown", function(a) {
    27 === a.keyCode && popup.classList.contains("feedback-content-show") && (popup.classList.remove("feedback-content-show"), popup.classList.remove("feedback-error"))
});